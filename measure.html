<!DOCTYPE html>
<html lang="en">

<!--Link Leaflet stylesheet-->
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
     integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
     crossorigin=""/>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="stylesheet.css">
    <title>Soonerview</title>
</head>

<body>
    <div class="topnav" id="myTopnav">
        <a href="index.html">Home</a>
        <a href="about.html">About</a>
        <a href="account.html">Account</a>
        <a href="javascript:void(0);" class="icon" onclick="topNav()">
            <i class="fa fa-bars"></i>
        </a>
    </div>

    <hr>

    <div style = "margin: auto; margin-top: 30px;">

        
        <p id = "billID"><script src="measurePage.js"></script></p>
        <div style = "display: flex; align-items: flex-start; margin-left: -20px;">
            <p id = "author" style = "margin: 0 20px;">Author: </p>
            <p id = "county" style = "margin: 0 20px;">District: </p>
            <p id = "date" style = "margin: 0 20px;">Date: </p>
        </div>
        

        <div id="map"></div>

        <h3>Yea: </h3>
        <p id = "yea"></p>
        <h3>Nay: </h3>
        <p id = "nay"></p>

        <hr>

        <div id="messages"></div>

        <h3>AI Overview: </h3>
    </div>
 
    <script>
        function topNav() {
            //Referenced from https://www.w3schools.com/howto/tryit.asp?filename=tryhow_js_topnav
            var x = document.getElementById("myTopnav");
            if (x.className === "topnav") {
                x.className += " responsive";
            } else {
                x.className = "topnav";
            }
        }
    </script>

    <script>
        async function loadMessages() {
        const res = await fetch('query');
        const data = await res.json();

        const list = document.getElementById('messages');
        (data.results || []).forEach(row => {
          const li = document.createElement('li');
          li.textContent = row.desc;
          list.appendChild(li);
        });
        }

        loadMessages();
    </script>

    <!--run Leaflet setup script-->
     <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
     integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
     crossorigin=""></script>

    <!--run mapDisplay script-->
     <script src="mapDisplay.js"></script>
</body>

</html>